/*!
  * qwery.js - copyright @dedfat
  * https://github.com/ded/qwery
  * Follow our software http://twitter.com/dedfat
  * MIT License
  */

!function(a,b){function s(a,b){if(!b||!a||b==a)return!1;if(b.contains&&a.nodeType)return b.contains(a);if(b.compareDocumentPosition&&a.nodeType)return!!(b.compareDocumentPosition(a)&16);return!1}function r(a){var b=[],c,d,e,f,h,i,j=[],k,l,p=!1,q=a.split(/\s(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\])/);if(!q.length)return b;b=o(q.pop());if(!q.length)return b;for(f=b.length;f--;){l=b[f],i=l;for(e=q.length;e--;)parents:while(i!==g&&(i=i.parentNode))if(p=n.apply(i,m(q[e])))break parents;p&&j.push(l)}return j}function q(a,b,c){switch(a){case"=":return b==c;case"^=":return b.match(new RegExp("^"+p(c)));case"$=":return b.match(new RegExp(p(c)+"$"));case"*=":return b.match(new RegExp(p(c)))}return!1}function p(a){return a.replace(/([\.\*\+\?\^\$\{\}\(\)\|\[\]\/\\])/g,"\\$1")}function o(a){var c,d,e,f=[],g=m(a),h=g[1]||"*",i=b.getElementsByTagName(h);for(c=0,d=i.length;c<d;c++)el=i[c],(e=n.apply(el,g))&&f.push(e);return f}function n(a,b,e,f,g,h,i){var j,k,l,m,n;if(b&&this.tagName.toLowerCase()!==b)return!1;if(e&&(m=e.match(c))&&m[1]!==this.id)return!1;if(e&&(n=e.match(d)))for(l=n.length;l--;)if(!(new RegExp("(^|\\s+)"+n[l].slice(1)+"(\\s+|$)")).test(this.className))return!1;if(f&&!i){var o=this.attributes,p;for(p in o)if(o.hasOwnProperty(p)&&o[p].name==g)return this}if(f&&!q(h,this.getAttribute(g)||"",i))return!1;return this}function m(a){return a.match(new RegExp(h.source+"("+i.source+")?"))}function l(a){return new k(a)}function k(a){this.obj=j(a)}function j(a){var b,c,d=[];for(b=0,c=a.length;b<c;b++)d[b]=a[b];return d}var c=/#([\w\-]+)/,d=/\.[\w\-]+/g,e=/^#([\w\-]+$)/,f=/^([\w\-]+)$/,g=b.getElementsByTagName("html")[0],h=/^([a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,i=/\[([\w\-]+)(?:([\^\$\*]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/;k.prototype={each:function(a){for(var b=0,c=this.obj.length;b<c;b++)a.call(this.obj[b],this.obj[b],b,this.obj);return this},map:function(a){var b=[],c,d;for(c=0,d=this.obj.length;c<d;c++)b[c]=a.call(this.obj[c],this.obj[c],c,this.obj);return b}};var t=function(){function d(d,f){f=typeof f=="string"?b.querySelector(f):f;var g;if(g=d.match(e))return[b.getElementById(g[1])];if(b.getElementsByClassName&&(c=d.match(a)))return j((f||b).getElementsByClassName(c[1]),0);return j((f||b).querySelectorAll(d),0)}var a=/^\.([\w\-]+)$/,c;if(b.querySelector&&b.querySelectorAll)return d;return function(a,c){c=typeof c=="string"?t(c)[0]:c||b;var d;if(d=a.match(e))return[b.getElementById(d[1])];if(d=a.match(f))return[c.getElementsByTagName(d[1])];var g=[],h=l(a.split(",")).map(function(a){return r(a)});l(h).each(function(a){var d=a;c!==b&&(d=[],l(a).each(function(a){s(a,c)&&d.push(a)})),g=g.concat(d)});return g}}(),u=a.qwery;t.noConflict=function(){a.qwery=u;return this},a.qwery=t}(this,document)