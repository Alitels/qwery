
!function(a){function b(a){return a.all?a.all:a.getElementsByTagName("*")}a.getElementsBySelector=function(a){if(!document.getElementsByTagName)return[];var c=a.split(" "),d,e,f,g,h,i,j,k,l,m,n,o=[document];for(g=0;g<c.length;g++){token=c[g].replace(/^\s+/,"").replace(/\s+$/,"");if(token.indexOf("#")>-1){d=token.split("#"),e=d[0];var p=d[1],q=document.getElementById(p);if(e&&q.nodeName.toLowerCase()!=e)return[];o=[q];continue}if(token.indexOf(".")>-1){d=token.split("."),e=d[0];var r=d[1];e||(e="*"),k=[],l=0;for(f=0,j=o.length;f<j;f++){e=="*"?m=b(o[f]):m=o[f].getElementsByTagName(e);for(h=0;h<m.length;h++)k[l++]=m[h]}o=[],n=0;for(i=0,j=k.length;i<j;i++)k[i].className&&k[i].className.match(new RegExp("(?:^|\\s+)"+r+"(?:\\s+|$)"))&&(o[n++]=k[i]);continue}if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){e=RegExp.$1;var s=RegExp.$2,t=RegExp.$3,u=RegExp.$4;e||(e="*"),k=[],l=0;for(f=0;f<o.length;f++){e=="*"?m=b(o[f]):m=o[f].getElementsByTagName(e);for(h=0;h<m.length;h++)k[l++]=m[h]}o=[],n=0;var v;switch(t){case"=":v=function(a){return a.getAttribute(s)==u};break;case"~":v=function(a){return a.getAttribute(s).match(new RegExp("\\b"+u+"\\b"))};break;case"|":v=function(a){return a.getAttribute(s).match(new RegExp("^"+u+"-?"))};break;case"^":v=function(a){return a.getAttribute(s).indexOf(u)===0};break;case"$":v=function(a){return a.getAttribute(s).lastIndexOf(u)==a.getAttribute(s).length-u.length};break;case"*":v=function(a){return a.getAttribute(s).indexOf(u)>-1};break;default:v=function(a){return a.getAttribute(s)}}o=[],n=0;for(i=0;i<k.length;i++)v(k[i])&&(o[n++]=k[i]);continue}e=token,k=[],l=0;for(f=0;f<o.length;f++){m=o[f].getElementsByTagName(e);for(h=0;h<m.length;h++)k[l++]=m[h]}o=k}return o}}(this)